{"version":"0.10.1","name":"cpamm","instructions":[{"name":"newFactory","accounts":[{"name":"base","isMut":false,"isSigner":true},{"name":"factory","isMut":true,"isSigner":false,"pda":{"seeds":[{"kind":"const","type":"string","value":"Factory"},{"kind":"account","type":"publicKey","path":"base"}]}},{"name":"payer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"bump","type":"u8"}]},{"name":"newSwap","accounts":[{"name":"factory","isMut":true,"isSigner":false},{"name":"swap","isMut":true,"isSigner":false,"pda":{"seeds":[{"kind":"const","type":"string","value":"SwapInfo"},{"kind":"account","type":"publicKey","account":"Factory","path":"factory"},{"kind":"account","type":{"defined":"Box<Account<'info,Mint>>"},"account":"InitSwapToken","path":"token_0.mint"},{"kind":"account","type":{"defined":"Box<Account<'info,Mint>>"},"account":"InitSwapToken","path":"token_1.mint"}]}},{"name":"poolMint","isMut":true,"isSigner":false},{"name":"token0","accounts":[{"name":"mint","isMut":false,"isSigner":false},{"name":"reserve","isMut":false,"isSigner":false},{"name":"fees","isMut":false,"isSigner":false}]},{"name":"token1","accounts":[{"name":"mint","isMut":false,"isSigner":false},{"name":"reserve","isMut":false,"isSigner":false},{"name":"fees","isMut":false,"isSigner":false}]},{"name":"outputLp","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"bump","type":"u8"}]},{"name":"newSwapMeta","accounts":[{"name":"swap","isMut":false,"isSigner":false},{"name":"swapMeta","isMut":true,"isSigner":false,"pda":{"seeds":[{"kind":"const","type":"string","value":"SwapMeta"},{"kind":"account","type":"publicKey","account":"SwapInfo","path":"swap.factory"},{"kind":"account","type":"u64","account":"SwapInfo","path":"swap.index"}]}},{"name":"payer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"bump","type":"u8"}]},{"name":"swap","accounts":[{"name":"user","accounts":[{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"swap","isMut":true,"isSigner":false},{"name":"userAuthority","isMut":false,"isSigner":true}]},{"name":"input","accounts":[{"name":"user","isMut":true,"isSigner":false},{"name":"reserve","isMut":true,"isSigner":false},{"name":"fees","isMut":true,"isSigner":false}]},{"name":"output","accounts":[{"name":"user","isMut":true,"isSigner":false},{"name":"reserve","isMut":true,"isSigner":false},{"name":"fees","isMut":true,"isSigner":false}]}],"args":[{"name":"amountIn","type":"u64"},{"name":"minimumAmountOut","type":"u64"}]},{"name":"swapMax","accounts":[{"name":"user","accounts":[{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"swap","isMut":true,"isSigner":false},{"name":"userAuthority","isMut":false,"isSigner":true}]},{"name":"input","accounts":[{"name":"user","isMut":true,"isSigner":false},{"name":"reserve","isMut":true,"isSigner":false},{"name":"fees","isMut":true,"isSigner":false}]},{"name":"output","accounts":[{"name":"user","isMut":true,"isSigner":false},{"name":"reserve","isMut":true,"isSigner":false},{"name":"fees","isMut":true,"isSigner":false}]}],"args":[{"name":"minimumAmountOut","type":"u64"}]},{"name":"withdraw","accounts":[{"name":"user","accounts":[{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"swap","isMut":true,"isSigner":false},{"name":"userAuthority","isMut":false,"isSigner":true}]},{"name":"poolMint","isMut":true,"isSigner":false},{"name":"inputLp","isMut":true,"isSigner":false},{"name":"output0","accounts":[{"name":"user","isMut":true,"isSigner":false},{"name":"reserve","isMut":true,"isSigner":false},{"name":"fees","isMut":true,"isSigner":false}]},{"name":"output1","accounts":[{"name":"user","isMut":true,"isSigner":false},{"name":"reserve","isMut":true,"isSigner":false},{"name":"fees","isMut":true,"isSigner":false}]}],"args":[{"name":"amountIn","type":"u64"},{"name":"minimumAmountOut0","type":"u64"},{"name":"minimumAmountOut1","type":"u64"}]},{"name":"deposit","accounts":[{"name":"user","accounts":[{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"swap","isMut":true,"isSigner":false},{"name":"userAuthority","isMut":false,"isSigner":true}]},{"name":"input0","accounts":[{"name":"user","isMut":true,"isSigner":false},{"name":"reserve","isMut":true,"isSigner":false}]},{"name":"input1","accounts":[{"name":"user","isMut":true,"isSigner":false},{"name":"reserve","isMut":true,"isSigner":false}]},{"name":"poolMint","isMut":true,"isSigner":false},{"name":"outputLp","isMut":true,"isSigner":false}],"args":[{"name":"poolTokenAmount","type":"u64"},{"name":"maximumAmountIn0","type":"u64"},{"name":"maximumAmountIn1","type":"u64"}]}],"accounts":[{"name":"Factory","type":{"kind":"struct","fields":[{"name":"base","type":"publicKey"},{"name":"bump","type":"u8"},{"name":"numSwaps","type":"u64"},{"name":"admin","type":"publicKey"},{"name":"reserved","type":{"array":["u64",16]}}]}},{"name":"SwapMeta","type":{"kind":"struct","fields":[{"name":"factory","type":"publicKey"},{"name":"index","type":"u64"},{"name":"bump","type":"u8"},{"name":"swap","type":"publicKey"},{"name":"createdAt","type":"i64"},{"name":"createdBy","type":"publicKey"}]}},{"name":"SwapInfo","type":{"kind":"struct","fields":[{"name":"factory","type":"publicKey"},{"name":"bump","type":"u8"},{"name":"index","type":"u64"},{"name":"adminKey","type":"publicKey"},{"name":"token0","type":{"defined":"SwapTokenInfo"}},{"name":"token1","type":{"defined":"SwapTokenInfo"}},{"name":"isPaused","type":"bool"},{"name":"poolMint","type":"publicKey"},{"name":"fees","type":{"defined":"SwapFees"}},{"name":"cumulativeStats","type":{"defined":"SwapCumulativeStats"}},{"name":"priceInfo","type":{"defined":"SwapPriceInfo"}},{"name":"reserved","type":{"array":["u64",16]}}]}}],"types":[{"name":"SwapCumulativeStats","type":{"kind":"struct","fields":[{"name":"token0","type":{"defined":"SwapCumulativeTokenStats"}},{"name":"token1","type":{"defined":"SwapCumulativeTokenStats"}},{"name":"totalLpMinted","type":"u128"},{"name":"totalLpRedeemed","type":"u128"}]}},{"name":"SwapCumulativeTokenStats","type":{"kind":"struct","fields":[{"name":"totalInputVolume","type":"u128"},{"name":"totalOutputVolume","type":"u128"},{"name":"totalDepositVolume","type":"u128"},{"name":"totalWithdrawVolume","type":"u128"},{"name":"totalTradeFees","type":"u64"}]}},{"name":"SwapPriceInfo","type":{"kind":"struct","fields":[{"name":"lastUpdateTs","type":"i64"},{"name":"price0CumulativeLast","type":"u128"},{"name":"price1CumulativeLast","type":"u128"}]}},{"name":"SwapTokenInfo","type":{"kind":"struct","fields":[{"name":"reserves","type":"publicKey"},{"name":"mint","type":"publicKey"},{"name":"adminFees","type":"publicKey"}]}},{"name":"SwapFees","type":{"kind":"struct","fields":[{"name":"tradeFeeKbps","type":"u64"},{"name":"withdrawFeeKbps","type":"u64"},{"name":"adminTradeFeeKbps","type":"u64"},{"name":"adminWithdrawFeeKbps","type":"u64"}]}}],"events":[{"name":"NewPoolEvent","fields":[{"name":"lpMint","type":"publicKey","index":false},{"name":"mint0","type":"publicKey","index":false},{"name":"mint1","type":"publicKey","index":false},{"name":"initialLiquidity","type":"u64","index":false}]},{"name":"DepositEvent","fields":[{"name":"lpMint","type":"publicKey","index":false},{"name":"poolTokenAmount","type":"u64","index":false},{"name":"token0Amount","type":"u64","index":false},{"name":"token1Amount","type":"u64","index":false}]},{"name":"WithdrawEvent","fields":[{"name":"lpMint","type":"publicKey","index":false},{"name":"poolTokenAmount","type":"u64","index":false},{"name":"token0Amount","type":"u64","index":false},{"name":"token1Amount","type":"u64","index":false}]},{"name":"SwapEvent","fields":[{"name":"lpMint","type":"publicKey","index":false},{"name":"inputMint","type":"publicKey","index":false},{"name":"outputMint","type":"publicKey","index":false},{"name":"sourceAmountSwapped","type":"u64","index":false},{"name":"destinationAmountSwapped","type":"u64","index":false}]}],"errors":[{"code":6000,"name":"Paused","msg":"Swap pool is paused"},{"code":6001,"name":"ExceededSlippage","msg":"Swap instruction exceeds desired slippage limit"},{"code":6002,"name":"InsufficientLiquidity","msg":"Insufficient liquidity"},{"code":6003,"name":"InsufficientLiquidityPostWithdrawal","msg":"The withdrawal will result in the pool having too little liquidity. Withdraw less tokens."},{"code":6004,"name":"NewSwapMustHaveNonZeroSupply","msg":"New swap must have non-zero supply on its reserves"},{"code":6005,"name":"InitialLiquidityTooLow","msg":"Initial liquidity too low"},{"code":6006,"name":"SwapTokensNotSorted","msg":"Swap's token mints must be sorted"},{"code":6007,"name":"SwapTokensCannotBeEqual","msg":"Swap's token mints cannot be the same"},{"code":6008,"name":"SwapPoolMintSupply","msg":"Swap's pool mint supply must be zero"},{"code":6009,"name":"InvalidFee","msg":"Invalid fee"}]}